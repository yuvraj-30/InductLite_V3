# =============================================================================
# InductLite Production Environment Template
# =============================================================================
# Copy this file and fill in production values.
# NEVER commit actual secrets to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE (Required)
# -----------------------------------------------------------------------------
# Use SSL in production: ?sslmode=require
DATABASE_URL=postgresql://user:password@host:5432/inductlite?schema=public&sslmode=require
# Direct connection for migrations (Neon direct endpoint)
DATABASE_DIRECT_URL=postgresql://user:password@host:5432/inductlite?schema=public&sslmode=require

# -----------------------------------------------------------------------------
# SECURITY (Required)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
SESSION_SECRET=

# Optional: previous secrets for rotation (comma-separated)
# SESSION_SECRET_PREVIOUS=

# Optional: MFA encryption key (base64 32-byte)
# MFA_ENCRYPTION_KEY=

# Optional: separate secret for sign-out tokens
SIGN_OUT_TOKEN_SECRET=

# Trust proxy headers (set to 1 behind reverse proxy)
TRUST_PROXY=1

# Cron security (shared secret + optional IP allowlist)
CRON_SECRET=
# CRON_ALLOWED_IPS=203.0.113.10/32,198.51.100.0/24
CRON_ALLOW_GITHUB_ACTIONS=1
CRON_ALLOW_PRIVATE_IPS=0

# Contractor magic links
MAGIC_LINK_SECRET=

# -----------------------------------------------------------------------------
# RATE LIMITING (Recommended for production)
# -----------------------------------------------------------------------------
# Upstash Redis for distributed rate limiting
UPSTASH_REDIS_REST_URL=https://your-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=

# -----------------------------------------------------------------------------
# FILE STORAGE (Required)
# -----------------------------------------------------------------------------
STORAGE_MODE=s3
S3_BUCKET=your-bucket-name
S3_REGION=ap-southeast-2
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
# For S3-compatible services (Cloudflare R2, MinIO, etc.)
# S3_ENDPOINT=https://your-endpoint.r2.cloudflarestorage.com

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com
LOG_LEVEL=info

# Email (Resend)
RESEND_API_KEY=
RESEND_FROM=

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
FEATURE_EXPORTS_ENABLED=true
FEATURE_UPLOADS_ENABLED=true
FEATURE_PUBLIC_SIGNIN_ENABLED=true

# -----------------------------------------------------------------------------
# GUARDRAILS (Adjust based on your tier)
# -----------------------------------------------------------------------------
MAX_EXPORT_ROWS=50000
MAX_EXPORT_BYTES=104857600
MAX_EXPORTS_PER_COMPANY_PER_DAY=5
MAX_UPLOAD_MB=5

# -----------------------------------------------------------------------------
# SMS (Paid feature - disabled by default)
# -----------------------------------------------------------------------------
SMS_ENABLED=false
MAX_MESSAGES_PER_COMPANY_PER_MONTH=0

# -----------------------------------------------------------------------------
# CSP REPORTING (Optional)
# -----------------------------------------------------------------------------
CSP_REPORT_ONLY=0
CSP_REPORT_ENDPOINT=/api/csp-report
